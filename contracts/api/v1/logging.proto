syntax = "proto3";
package poc.micro.ordering.api.v1;
option csharp_namespace = "Poc.Micro.Ordering.Api.V1";

service Logging {
  rpc Write(LogEntry) returns (WriteAck);
  rpc Subscribe(LogFilter) returns (stream LogEntry);
}

message LogEntry {
  string source = 1;
  string level = 2;   // INFO/WARN/ERROR
  string message = 3;
  string correlation_id = 4; // jobId
  int64 unix_ts_ms = 5;
}
message WriteAck { bool ok = 1; }
message LogFilter { string correlation_id = 1; }
